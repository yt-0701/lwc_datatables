<template>
    <div class="slds-table_edit_container slds-is-relative">
        <table aria-multiselectable="true" class="slds-table slds-no-cell-focus slds-table_bordered slds-table_edit slds-table_fixed-layout slds-table_resizable-cols" role="grid" style="width:66.75rem">
            <thead>
                <tr class="slds-line-height_reset">
                    <th class="" scope="col" style="width:1rem"></th>
                    <template for:each={convHeaders} for:item="header" for:index="index">
                        <th key={header.index} aria-label={header.name} aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col" style="width:8.75rem">
                            <a class="slds-th__action slds-text-link_reset" role="button" tabindex="-1">
                                <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                    <span class="slds-truncate" title={header.name}>{header.disp}</span>
                                </div>
                            </a>
                        </th>
                    </template>
                    <th class="" scope="col" style="width:3rem"></th>
                </tr>
            </thead>
            <tbody>
                <template for:each={convItems} for:item="line" for:index="lidx">
                    <tr key={line.index} aria-selected="false" class="slds-hint-parent">
                        <td class="slds-cell" role="gridcell">

                        </td>
                        <template for:each={line.dataset} for:item="item" for:index="vidx">
                            <td key={item.index} class="slds-cell-edit" role="gridcell">
                                <span class="slds-grid slds-grid_align-spread">
                                    <lightning-input variant="label-hidden" name={item.name} value={item.value} type={item.type}
                                        onblur={handleValueChange} data-lidx={lidx} data-vidx={vidx} class="value-input-field">
                                    </lightning-input>
                                </span>
                            </td>
                        </template>

                        <td class="slds-cell" role="gridcell">
                            <template if:true={isDeletableLine}>
                                <lightning-button-icon icon-name="utility:delete" alternative-text="Delete" class="slds-m-left_x-small" title="Delete"
                                onclick={handleOnClickDeleteButton} data-lidx={lidx}>
                                </lightning-button-icon>
                            </template>
                        </td>
                    </tr>
                </template>
            </tbody>
        </table>
    </div>
</template>